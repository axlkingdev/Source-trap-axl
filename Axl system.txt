--// AXL System 0.2 - Loading Screen with Auto GUI Launch

local TweenService = game:GetService("TweenService")
local Players = game:GetService("Players")
local player = Players.LocalPlayer

-- GUI رئيسي
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "AXL_Loading_UI"
screenGui.IgnoreGuiInset = true
screenGui.ResetOnSpawn = false
screenGui.Parent = player:WaitForChild("PlayerGui")

-- خلفية سوداء
local bg = Instance.new("Frame")
bg.Size = UDim2.new(1,0,1,0)
bg.BackgroundColor3 = Color3.fromRGB(0,0,0)
bg.BackgroundTransparency = 0
bg.Parent = screenGui

-- صورة رئيسية
local mainImage = Instance.new("ImageLabel")
mainImage.AnchorPoint = Vector2.new(0.5,0.5)
mainImage.Position = UDim2.new(0.5,0,0.35,0)
mainImage.Size = UDim2.new(0,150,0,150)
mainImage.Image = "rbxassetid://7160947299"
mainImage.BackgroundTransparency = 1
mainImage.Parent = bg

-- عنوان فوق الصورة
local title = Instance.new("TextLabel")
title.AnchorPoint = Vector2.new(0.5,1)
title.Position = UDim2.new(0.5,0,0.15,0)
title.Size = UDim2.new(0,400,0,50)
title.BackgroundTransparency = 1
title.Text = "AXL system bug fix 0.2"
title.Font = Enum.Font.GothamBold
title.TextScaled = true
title.TextColor3 = Color3.fromRGB(200,200,255)
title.TextTransparency = 1
title.Parent = bg

-- Frame للـ Credits
local creditsHolder = Instance.new("Frame")
creditsHolder.AnchorPoint = Vector2.new(0.5,0)
creditsHolder.Position = UDim2.new(0.5,0,1,0)
creditsHolder.Size = UDim2.new(0,400,0,400)
creditsHolder.BackgroundTransparency = 1
creditsHolder.Parent = bg

local UIList = Instance.new("UIListLayout")
UIList.Parent = creditsHolder
UIList.HorizontalAlignment = Enum.HorizontalAlignment.Center
UIList.VerticalAlignment = Enum.VerticalAlignment.Top
UIList.Padding = UDim.new(0,10)

-- قائمة المابات
local maps = {
    { img="rbxassetid://80124315475602", name="بلوكس فروت" },
    { img="rbxassetid://128300391996429", name="ماب سرقة" },
    { img="rbxassetid://136735528547904", name="ماب المزرعة" },
    { img="rbxassetid://101841141894358", name="99 ليلة في غابة" },
    { img="rbxassetid://75175843304175", name="MM2" },
}

-- إنشاء عناصر المابات
for _, map in ipairs(maps) do
    local holder = Instance.new("Frame")
    holder.Size = UDim2.new(1,0,0,60)
    holder.BackgroundTransparency = 1
    holder.Parent = creditsHolder

    local img = Instance.new("ImageLabel")
    img.Size = UDim2.new(0,60,0,60)
    img.BackgroundTransparency = 1
    img.Image = map.img
    img.ImageTransparency = 0
    img.Parent = holder

    local txt = Instance.new("TextLabel")
    txt.Size = UDim2.new(1,-70,1,0)
    txt.Position = UDim2.new(0,70,0,0)
    txt.BackgroundTransparency = 1
    txt.Text = map.name
    txt.Font = Enum.Font.Gotham
    txt.TextScaled = true
    txt.TextColor3 = Color3.fromRGB(255,255,255)
    txt.TextTransparency = 0
    txt.Parent = holder
end

-- تحديث الحجم على حسب المحتوى
task.wait()
creditsHolder.Size = UDim2.new(0,400,0,UIList.AbsoluteContentSize.Y)

-- أنيميشن للعنوان + الصورة الرئيسية
TweenService:Create(title, TweenInfo.new(1), { TextTransparency = 0 }):Play()
mainImage.Size = UDim2.new(0,0,0,0)
TweenService:Create(mainImage, TweenInfo.new(1, Enum.EasingStyle.Back, Enum.EasingDirection.Out), {
    Size = UDim2.new(0,150,0,150)
}):Play()

-- تحريك الكريديتس (Scroll Up)
local endPosY = -UIList.AbsoluteContentSize.Y - 50
local duration = 6

local scrollTween = TweenService:Create(creditsHolder, TweenInfo.new(duration, Enum.EasingStyle.Linear), {Position = UDim2.new(0.5,0,endPosY/creditsHolder.Parent.AbsoluteSize.Y,0)})
scrollTween:Play()

-- Fade out تدريجي للكلمات عند الوصول للأعلى
task.spawn(function()
    local startTime = tick()
    while tick() - startTime < duration do
        for _, holder in ipairs(creditsHolder:GetChildren()) do
            if holder:IsA("Frame") then
                local holderPosY = creditsHolder.Position.Y.Scale * creditsHolder.Parent.AbsoluteSize.Y + holder.Position.Y.Offset
                if holderPosY < 0 then
                    for _, child in ipairs(holder:GetChildren()) do
                        if child:IsA("TextLabel") then
                            child.TextTransparency = math.min(1, child.TextTransparency + 0.02)
                        elseif child:IsA("ImageLabel") then
                            child.ImageTransparency = math.min(1, child.ImageTransparency + 0.02)
                        end
                    end
                end
            end
        end
        task.wait(0.05)
    end
end)

-- بعد 7 ثواني يختفي كلشي ويشغل سكربت الـ GUI مباشرة
task.delay(7, function()
    TweenService:Create(bg, TweenInfo.new(1), { BackgroundTransparency = 1 }):Play()
    TweenService:Create(mainImage, TweenInfo.new(1), { ImageTransparency = 1 }):Play()
    TweenService:Create(title, TweenInfo.new(1), { TextTransparency = 1 }):Play()
    for _,holder in ipairs(creditsHolder:GetChildren()) do
        for _,child in ipairs(holder:GetChildren()) do
            if child:IsA("TextLabel") then
                TweenService:Create(child, TweenInfo.new(1), { TextTransparency = 1 }):Play()
            elseif child:IsA("ImageLabel") then
                TweenService:Create(child, TweenInfo.new(1), { ImageTransparency = 1 }):Play()
            end
        end
    end

    task.wait(1.2)
    screenGui:Destroy()

    -- هنا يبدأ سكربت الـ GUI مباشرة بعد انتهاء الـ Loading Screen
    loadstring(game:HttpGet(("https://raw.githubusercontent.com/axlkingdev/Source-trap-axl/refs/heads/main/source.luau")))()

    MakeWindow({
      Hub = {
        Title = "AXL System bug fix 0.1",
        Animation = "WEEK 1 = FIX BUGS"
      },
      Key = {
        KeySystem = true,
        Title = "كل اسبوع يتغير مفتاح",
        Description = "تنبيه اذا عدلنا  حماية قد نزيل مفتاح",
        KeyLink = "https://t.me/mmcmy",
        Keys = {"axlw1"},
        Notifi = {
          Notifications = true,
          CorrectKey = "جار تحميل ",
          Incorrectkey = "خطا",
          CopyKeyLink = "تم نسخ"
        }
      }
    })

    local Main = MakeTab({
        Name = "بلوكس فروت 🍓",
        Image = "rbxassetid://80124315475602",
        TabTitle = false
    })

    AddButton(Main, {
        Name = "اضغط لتشغيل سكربت بلوكس فروت (كشف فواكهة)",
        Callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Ggopwq/Bloxfruit/refs/heads/main/Bloxfruitaxl"))()
        end
    })

    local Main = MakeTab({
        Name = "ماب المزرعة 🌽",
        Image = "rbxassetid://136735528547904",
        TabTitle = false
    })

    AddButton(Main, {
        Name = "تشغيل ماب مزرعة",
        Callback = function()
            loadstring(game:HttpGet("https://pastebin.com/raw/Qd0c3ss6"))()
        end
    })

    local Main = MakeTab({
        Name = "ماب سرقة",
        Image = "rbxassetid://128300391996429",
        TabTitle = false
    })

    AddButton(Main, {
        Name = "تشغيل ماب سرقة",
        Callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/axlkingdev/Source-trap-axl/refs/heads/main/obfuscated_script-1755295067955.lua.txt"))()
        end
    })

    local Main = MakeTab({
        Name = "99 ليلة",
        Image = "rbxassetid://101841141894358",
        TabTitle = false
    })

    AddButton(Main, {
        Name = "تشغيل 99 ليلة في غابة",
        Callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Ggopwq/Axl99/refs/heads/main/Night99"))()
        end
    })

    local Main = MakeTab({
        Name = "ام ام تو عزيزي",
        Image = "rbxassetid://75175843304175",
        TabTitle = false
    })

    AddButton(Main, {
        Name = "تشغيل ام ام 2",
        Callback = function()
            loadstring(game:HttpGet("https://raw.githubusercontent.com/Ggopwq/Mm2/refs/heads/main/Mm2axl"))()
        end
    })
end)
